___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "displayName": "Venofy",
  "categories": ["ADVERTISING", "ADVERTISING", "CONVERSIONS", "LEAD_GENERATION", "PERSONALIZATION", "SOCIAL"],
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Venofy",
  "brand": {
    "id": "venofy",
    "displayName": "Venofy",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "This template enables you to integrate and manage your custom pixel tracking script within Google Tag Manager for seamless integration of Venofy to your website.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "pixelKey",
    "displayName": "",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');

// Construct the Pixel URL
const baseURL = 'https://venofy.com/pixel/';
const pixelKey = data.pixelKey; // Default key
const pixelURL = baseURL + pixelKey;
const queryPermission = require('queryPermission');

// Log the URL for debugging (optional)
log('Venofy Pixel URL:', pixelURL);



// If the script loaded successfully, log a message and signal success
const onSuccess = () => {
  log('Conductrics: Script loaded successfully.');
  data.gtmOnSuccess();
};

// If the script fails to load, log a message and signal failure
const onFailure = () => {
  log('Conductrics: Script load failed.');
  data.gtmOnFailure();
};

// If the URL input by the user matches the permissions set for the template,
// inject the script with the onSuccess and onFailure methods as callbacks.
if (queryPermission('inject_script', pixelURL)) {
  injectScript(pixelURL, onSuccess, onFailure);
} else {
  log('Conductrics: Script load failed due to permissions mismatch.');
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://venofy.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 11/16/2024, 12:43:50 PM


